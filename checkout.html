<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P√©nzt√°r - Palace Cafe & Bar</title>
    <link rel="icon" type="image/png" href="assets/images/logos/logo-main.png">
    <meta name="description" content="Rendel√©s v√©gleges√≠t√©se - Palace Cafe & Bar">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https: *.googleusercontent.com *.gstatic.com; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://js.stripe.com; connect-src 'self' https://www.google-analytics.com https://analytics.google.com https://region1.google-analytics.com https://palace-cafe-backend-production.up.railway.app https://palace-cafe-backend-palace-bar-dev.up.railway.app https://api.stripe.com; frame-src https://www.google.com https://maps.google.com https://search.google.com https://js.stripe.com https://hooks.stripe.com;">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y68JWQJYEJ"></script>
    <script>
        // Initialize Google Analytics with consent mode
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        
        // Set default consent states (denied until user accepts)
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'functionality_storage': 'granted',
            'security_storage': 'granted'
        });
        
        gtag('js', new Date());
        gtag('config', 'G-Y68JWQJYEJ', {
            'anonymize_ip': true, // GDPR compliance
            'allow_google_signals': false, // Start with privacy-first
            'allow_ad_personalization_signals': false
        });
    </script>

    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
</head>
<body>
    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" id="scrollToTop" aria-label="Vissza a tetej√©re">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 19V5M5 12L12 5L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <!-- Happy Hour Bar -->
    <div class="happy-hour-bar" id="happyHourBar">
        <div class="happy-hour-content">
            <div class="happy-hour-message" data-i18n="happyHour.message">
                V√°runk szeretettel a happy hour-re 12 √©s 15 √≥ra k√∂z√∂tt!
            </div>
        </div>
    </div>

    <!-- Main Navigation -->
    <header class="main-header" id="mainHeader">
        <nav class="nav-container">
            <!-- Mobile Menu Icon -->
            <div class="mobile-menu-icon" id="mobileMenuIcon">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </div>

            <!-- Logo -->
            <div class="logo-container">
                <a href="index.html">
                    <img src="assets/images/logos/logo-main.png" alt="Palace Cafe & Bar Logo" class="logo">
                </a>
            </div>

            <!-- Desktop Navigation -->
            <ul class="nav-menu desktop-nav">
                <li><a href="menu.html" class="nav-link" data-i18n="nav.menu">Men√º</a></li>
                <li><a href="order.html" class="nav-link highlighted" data-i18n="nav.order">Rendelj online</a></li>
            </ul>

            <!-- Language Flags -->
            <div class="language-flags desktop-only">
                <button data-lang="hu" class="flag-button" aria-label="Magyar">
                    <img src="assets/images/icons/flag-hu.png" alt="Magyar" class="flag-icon">
                </button>
                <button data-lang="sk" class="flag-button" aria-label="Slovenƒçina">
                    <img src="assets/images/icons/flag-sk.png" alt="Slovenƒçina" class="flag-icon">
                </button>
                <button data-lang="en" class="flag-button" aria-label="English">
                    <img src="assets/images/icons/flag-en.png" alt="English" class="flag-icon">
                </button>
            </div>

            <!-- Mobile Order Button -->
            <div class="mobile-order-btn mobile-only">
                <a href="order.html" class="nav-link highlighted">Rendelj online</a>
            </div>
        </nav>

        <!-- Mobile Menu Dropdown -->
        <div class="mobile-menu" id="mobileMenu">
            <ul class="mobile-nav-list">
                <li><a href="menu.html" class="mobile-nav-link" data-i18n="nav.menu">Men√º</a></li>
                <!--<li><a href="about.html" class="mobile-nav-link">R√≥lunk</a></li>-->
                <li class="mobile-flags">
                    <button data-lang="hu"><img src="assets/flags/hu.svg" alt="Magyar" data-i18n="lang.hu.alt" class="mobile-flag-icon"></button>
                    <button data-lang="sk"><img src="assets/flags/sk.svg" alt="Slovenƒçina" data-i18n="lang.sk.alt" class="mobile-flag-icon"></button>
                    <button data-lang="en"><img src="assets/flags/en.svg" alt="English" data-i18n="lang.en.alt" class="mobile-flag-icon"></button>
                </li>
            </ul>
        </div>
    </header>

    <!-- Menu Hero Section -->
    <section class="menu-hero-section">
        <div class="menu-hero-content">
            <h1 class="menu-hero-title" data-i18n="checkout.hero">P√©nzt√°r</h1>
            <p class="menu-hero-subtitle" data-i18n="checkout.herosubtext">Rendel√©sed v√©gleges√≠t√©se</p>
        </div>
    </section>

    <!-- Checkout Main Content -->
    <main class="checkout-main">
        <div class="checkout-container">
            <!-- Progress Steps -->
            <div class="checkout-progress">
                <div class="progress-step completed">
                    <div class="step-number">1</div>
                    <div class="step-label" data-i18n="checkout.stepone">Men√º</div>
                </div>
                <div class="progress-line completed"></div>
                <div class="progress-step active">
                    <div class="step-number">2</div>
                    <div class="step-label" data-i18n="checkout.steptwo">P√©nzt√°r</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step">
                    <div class="step-number">3</div>
                    <div class="step-label" data-i18n="checkout.stepthree">Befejez√©s</div>
                </div>
            </div>

            <div class="checkout-content">
                <!-- Left Column -->
                <div class="checkout-left">
                    <!-- Cart Review Section -->
                    <section class="checkout-section cart-review">
                        <h2 class="section-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V17A2 2 0 0 1 15 19H9A2 2 0 0 1 7 17V13H17Z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-i18n="checkout.cart.content">Kos√°r tartalma</span>
                        </h2>
                        <div class="cart-items" id="cartItems">
                            <!-- Cart items will be dynamically populated from order page -->
                        </div>
                        <div class="cart-summary">
                            <div class="summary-row">
                                <span data-i18n="checkout.subtotal">R√©sz√∂sszeg:</span>
                                <span id="subtotal">‚Ç¨0.00</span>
                            </div>
                            <div class="summary-row packaging-fee">
                                <span data-i18n="checkout.packagefee">Csomagol√°si d√≠j:</span>
                                <span id="packagingFee">‚Ç¨0.50</span>
                            </div>
                            <div class="summary-row delivery-fee" style="display: none;">
                                <span data-i18n="checkout.deliveryfee">Sz√°ll√≠t√°si d√≠j:</span>
                                <span id="deliveryFee">‚Ç¨2.50</span>
                            </div>
                            <div class="summary-row packaging-fee" style="display: none;">
                                <span data-i18n="checkout.packagefee">Csomagol√°si d√≠j:</span>
                                <span id="packagingFee">0x ‚Ç¨0.50</span>
                            </div>                            
                            <div class="summary-row total">
                                <span data-i18n="checkout.fulltotal">√ñsszesen:</span>
                                <span id="totalAmount">‚Ç¨0.00</span>
                            </div>
                        </div>
                    </section>

                    <!-- Order Type Selection -->
                    <section class="checkout-section order-type">
                        <h2 class="section-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-i18n="checkout.ordertpye">Rendel√©s t√≠pusa</span>
                        </h2>
                        <div class="order-type-options">
                            <label class="order-option active" data-type="pickup">
                                <input type="radio" name="orderType" value="pickup" checked>
                                <div class="option-content">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <path d="M19 7H5A2 2 0 0 0 3 9V20A2 2 0 0 0 5 22H19A2 2 0 0 0 21 20V9A2 2 0 0 0 19 7Z" stroke="currentColor" stroke-width="2"/>
                                        <path d="M7 7V5A2 2 0 0 1 9 3H15A2 2 0 0 1 17 5V7" stroke="currentColor" stroke-width="2"/>
                                    </svg>
                                    <div>
                                        <h3 data-i18n="checkout.pickup">√Åtv√©tel</h3>
                                        <p data-i18n="checkout.pickupsubtext">Vedd √°t a rendel√©sedet az √©tteremben</p>
                                    </div>
                                </div>
                            </label>
                            <label class="order-option" data-type="delivery">
                                <input type="radio" name="orderType" value="delivery">
                                <div class="option-content">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <path d="M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z" stroke="currentColor" stroke-width="2"/>
                                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                                    </svg>
                                    <div>
                                        <h3 data-i18n="checkout.delivery">H√°zhozsz√°ll√≠t√°s</h3>
                                        <p data-i18n="checkout.deliverysubtext">Kisz√°ll√≠tjuk neked (+‚Ç¨2.50)</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </section>
                    <section class="checkout-section delivery-address" id="deliverySection" style="display: none;">
                        <h2 class="section-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M21 10C21 17 12 23 12 23S3 17 3 10A9 9 0 0 1 12 1A9 9 0 0 1 21 10Z" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-i18n="checkout.addresstitle">Sz√°ll√≠t√°si c√≠m</span>
                        </h2>
                        <button type="button" id="locateMeBtn" class="locate-me-btn" data-i18n="checkout.findme">Tal√°lj meg</button>
                        <div class="address-form">
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label for="street" data-i18n="checkout.address.street">Utca √©s h√°zsz√°m *</label>
                                    <input type="text" id="street" name="street" required placeholder="pl. F≈ë utca 123">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city" data-i18n="checkout.address.city">V√°ros *</label>
                                    <input type="text" id="city" name="city" value="Kom√°rno" required>
                                </div>
                                <div class="form-group">
                                    <label for="postalCode" data-i18n="checkout.address.postalcode">Ir√°ny√≠t√≥sz√°m *</label>
                                    <input type="text" id="postalCode" name="postalCode" placeholder="94501" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label for="deliveryNotes" data-i18n="checkout.address.extrainfo">Kieg√©sz√≠t≈ë inform√°ci√≥k</label>
                                    <textarea id="deliveryNotes" name="deliveryNotes" dataplaceholder="pl. 2. emelet, cseng≈ë neve, stb." rows="3"></textarea>
                                </div>
                            </div>
                            <!--<div class="delivery-info">
                                <p><strong>Fontos:</strong> Jelenleg csak Kom√°rno ter√ºlet√©re sz√°ll√≠tunk ki.</p>
                            </div>-->
                            <p id="locationValidationMessage" class="validation-message"></p>
                        </div>
                    </section>

                    <!-- Time Selection - Removed Toggle, Direct Options -->
                    <section class="checkout-section time-selection">
                        <h2 class="section-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-i18n="checkout.time">Id≈ëpont</span>
                        </h2>
                        <div class="time-options">
                            <div class="time-selector">
                                <label>
                                    <input type="radio" name="timeType" value="asap" checked>
                                    <span class="radio-custom"></span>
                                    <span data-i18n="checkout.asap">Amilyen hamar csak lehet</span>
                                </label>
                                <label>
                                    <input type="radio" name="timeType" value="scheduled">
                                    <span class="radio-custom"></span>
                                    <span data-i18n="checkout.tiimestamp">Id≈ëpont megad√°sa</span>
                                </label>
                            </div>
                            <div class="scheduled-time" id="scheduledTime" style="display: none;">
                                <div class="time-picker-container">
                                    <div class="picker-header">
                                        <div class="picker-title" data-i18n="checkout.typetime">Id≈ëpont megad√°sa</div>
                                        <div class="picker-subtitle" data-i18n="checkout.timesubtext">Add meg, mikor szeretn√©d √°tvenni a rendel√©sedet</div>
                                    </div>
                                    <div class="time-input-group">
                                        <label class="input-label" for="orderTimeInput">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                                <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2"/>
                                            </svg>
                                            <span data-i18n="checkout.wishedtime">K√≠v√°nt id≈ëpont</span>
                                        </label>
                                        <div class="time-input-container">
                                            <input 
                                                type="text" 
                                                id="orderTimeInput" 
                                                placeholder="pl. 14:30" 
                                                maxlength="5"
                                                class="time-input"
                                            >
                                            <div class="time-help-text" data-i18n="checkout.timeformat">Form√°tum: √ì√ì:PP (pl. 14:30)</div>
                                        </div>
                                        <div class="time-validation-message" id="timeValidationMessage"></div>
                                        <div class="operating-hours-info" id="operatingHoursInfo">
                                            <strong data-i18n="checkout.openhours">Nyitvatart√°s:</strong>
                                            <div id="todayHours"></div>
                                            <div id="tomorrowHours"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Customer Information - Moved Above Form Fields -->
                    <section class="checkout-section time-selection">
                        <h2 class="section-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M20 21V19A4 4 0 0 0 16 15H8A4 4 0 0 0 4 19V21" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-i18n="checkout.contact.title">Kapcsolati adatok</span>
                        </h2>
                        <div class="customer-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName" data-i18n="checkout.contact.firstname">Keresztn√©v *</label>
                                    <input type="text" id="firstName" name="firstName" required>
                                </div>
                                <div class="form-group">
                                    <label for="lastName" data-i18n="checkout.contact.lastname">Vezet√©kn√©v *</label>
                                    <input type="text" id="lastName" name="lastName" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="phone" data-i18n="checkout.contact.phone">Telefonsz√°m *</label>
                                    <input type="tel" id="phone" name="phone" required placeholder="Pl. +421 910 123 456 vagy 0910 123 456">
                                </div>
                                <div class="form-group">
                                    <label for="email" data-i18n="checkout.contact.email">Email c√≠m *</label>
                                    <input type="email" id="email" name="email" required placeholder="pelda@email.com">
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Drink Suggestions - Load from NonAlcoholic -->
                    <section class="checkout-section drink-suggestions" id="drinkSuggestions">
                        <h2 class="section-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M5 12V7A5 5 0 0 1 15 7V12" stroke="currentColor" stroke-width="2"/>
                                <path d="M5 12A7 7 0 1 0 19 12" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-i18n="checkout.offerdrink">Esetleg egy ital is?</span> 
                        </h2>
                        <p class="suggestion-subtitle" data-i18n="checkout.offerdrinksub">V√°lassz kedvenc italaidbool a rendel√©shez:</p>
                        <div class="drink-options-container">
                            <div class="drink-options" id="drinkOptions">
                                <!-- Will be loaded from NonAlcoholic category via API -->
                            </div>
                            <div class="drink-loading" id="drinkLoading" style="display: none;">
                                <div class="loading-spinner"></div>
                                <p data-i18n="checkout.loaddrinks">Italok bet√∂lt√©se...</p>
                            </div>
                            <div class="drink-error" id="drinkError" style="display: none;">
                                <p data-i18n="checkout.loaddrinkerror">Nem siker√ºlt bet√∂lteni az italokat. Pr√≥b√°ld √∫jra k√©s≈ëbb!</p>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Right Column - Sticky Payment Section -->
                <div class="checkout-right">
                    <!-- Payment Section - Always Visible/Sticky -->
                    <section class="checkout-section payment-section sticky-section" id="stickyPayment">
                        <h2 class="section-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="1" y="4" width="22" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                                <line x1="1" y1="10" x2="23" y2="10" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-i18n="checkout.payment.pay">Fizet√©s</span>
                        </h2>
                    
                        <div class="payment-options">
                            <label class="payment-option active" data-payment="cash">
                                <input type="radio" name="paymentMethod" value="cash" checked>
                                <div class="payment-content">
                                    <div class="payment-icon">üíµ</div>
                                    <div>
                                        <h3 data-i18n="checkout.payment.cash">K√©szp√©nz</h3>
                                        <p data-i18n="checkout.payment.cashsub" >Fizet√©s √°tv√©telkor/kisz√°ll√≠t√°skor</p>
                                    </div>
                                </div>
                            </label>
                        
                            <label class="payment-option" data-payment="stripe">
                                <input type="radio" name="paymentMethod" value="stripe">
                                <div class="payment-content">
                                    <div class="payment-icon">üí≥</div>
                                    <div>
                                        <h3 data-i18n="checkout.payment.card">Bankk√°rtya</h3>
                                        <p data-i18n="checkout.payment.cardsub">Azonnali online fizet√©s</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                    
                        <!-- Stripe Card Payment Form (Hidden by default) -->
                        <div class="card-payment-section" id="cardPaymentSection" style="display: none;">
                            <div class="card-form-container">
                                <h4 class="card-form-title" data-i18n="checkout.payment.cardinfo">K√°rtyaadatok</h4>
                                <div class="stripe-elements-container">
                                    <!-- Stripe Elements will be mounted here -->
                                    <div id="card-element" class="stripe-card-element">
                                        <!-- A Stripe Element will be inserted here. -->
                                    </div>
                                    <!-- Used to display form errors. -->
                                    <div id="card-errors" class="stripe-error" role="alert"></div>
                                </div>
                            </div>
                        </div>
                    
                        <!-- Legal Checkboxes -->
                        <div class="legal-checkboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" id="termsAccept" required>
                                <span class="checkbox-custom"></span>
                                <span class="checkbox-text">
                                    <span data-i18n="checkout.payment.terms">Elfogadom az </span>
                                    <a href="documents/Podmienky pou≈æ√≠vania webovej str√°nky.pdf" target="_blank" rel="noopener noreferrer" data-i18n="checkout.payment.termssub">√Åltal√°nos Szerz≈ëd√©si Felt√©teleket</a> *
                                </span>
                            </label>
                        
                            <label class="checkbox-label">
                                <input type="checkbox" id="privacyAccept" required>
                                <span class="checkbox-custom"></span>
                                <span class="checkbox-text">
                                    <span data-i18n="checkout.payment.privacy">Hozz√°j√°rulok szem√©lyes adataim kezel√©s√©hez az</span>
                                    <a href="documents/Z√°sady ochrany osobn√Ωch √∫dajov.pdf" target="_blank" rel="noopener noreferrer" data-i18n="checkout.payment.privacysub">Adatv√©delmi T√°j√©koztat√≥</a> szerint *
                                </span>
                            </label>
                        </div>
                    
                        <!-- Order Summary -->
                        <div class="order-summary-final">
                            <div class="summary-total">
                                <span data-i18n="checkout.payment.payable">Fizetend≈ë √∂sszeg:</span>
                                <span class="final-amount" id="finalAmount">‚Ç¨0.00</span>
                            </div>
                        </div>

                        <!-- Validation Summary - Add before place order button -->
                        <div class="validation-summary" id="validationSummary" style="display: none;">
                            <div class="validation-header">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                    <path d="M12 9v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                <span class="validation-title" data-i18n="checkout.missing">Hi√°nyz√≥ inform√°ci√≥k:</span>
                            </div>
                            <ul class="validation-list" id="validationList"></ul>
                        </div>                        
                    
                        <!-- Submit Button -->
                        <button type="button" class="place-order-btn" id="placeOrderBtn" disabled>
                            <span class="btn-text" data-i18n="checkout.placeorder">Rendel√©s lead√°sa</span>
                            <div class="btn-loading" id="orderLoading" style="display: none;">
                                <div class="loading-spinner"></div>
                                <span data-i18n="checkout.processing">Feldolgoz√°s...</span>
                            </div>
                            <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M5 12H19M12 5L19 12L12 19" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </button>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Item Edit Modal - Advanced Customization -->
    <div class="modal-overlay" id="customizationModal" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title" id="modalFoodName" data-i18n="checkout.customize">T√©tel szerkeszt√©se</h3>
                <button class="modal-close" id="closeCustomizationModal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                        <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- Food Item Info -->
                <div class="modal-food-info">
                    <img id="modalFoodImage" src="" alt="" class="modal-food-image">
                    <div class="modal-food-details">
                        <h4 class="modal-food-name" id="modalFoodNameDisplay"></h4>
                        <p class="modal-food-description" id="modalFoodDescription"></p>
                        <div class="modal-food-price" id="modalFoodPrice"></div>
                    </div>
                </div>
            
                <!-- Sauce Selection -->
                <div class="customization-section" id="sauceSection">
                    <h4 class="section-title" data-i18n="checkout.custom.sauce">Sz√≥sz v√°laszt√°sa *</h4>
                    <div class="sauce-options" id="sauceOptions"></div>
                </div>
            
                <!-- Fries Upgrade -->
                <div class="customization-section" id="friesSection">
                    <h4 class="section-title" data-i18n="checkout.custom.side">S√ºltkrimpli v√°laszt√°sa</h4>
                    <div class="upgrade-options" id="friesOptions"></div>
                </div>
            
                <!-- Extras -->
                <div class="customization-section" id="extrasSection">
                    <h4 class="section-title" data-i18n="checkout.custom.extras">Extr√°k</h4>
                    <div class="extras-grid" id="extrasOptions"></div>
                </div>
            
                <!-- Special Requests -->
                <div class="customization-section">
                    <h4 class="section-title" data-i18n="checkout.custom.special">Speci√°lis k√©r√©sek</h4>
                    <div class="special-requests">
                        <label class="request-label" for="removeInstructions" data-i18n="checkout.custom.leave">Kihagyni:</label>
                        <textarea id="removeInstructions" placeholder="pl. hagyma, paradicsom..."></textarea>
                        
                        <label class="request-label" for="specialInstructions" data-i18n="checkout.custom.other">Egy√©b megjegyz√©sek:</label>
                        <textarea id="specialInstructions" placeholder="pl. extra sz√≥sz, allergia megjegyz√©s..."></textarea>
                    </div>
                </div>
            
                <!-- Quantity Section -->
                <div class="quantity-section">
                    <div class="quantity-label" data-i18n="checkout.quant">Mennyis√©g:</div>
                    <div class="quantity-controls">
                        <button type="button" class="quantity-btn" id="decreaseQuantity">-</button>
                        <span class="quantity-display" id="quantityDisplay">1</span>
                        <button type="button" class="quantity-btn" id="increaseQuantity">+</button>
                    </div>
                </div>
            </div>
        
            <div class="modal-footer">
                <div class="modal-total">
                    <div class="total-label" data-i18n="checkoout.fulltotal">√ñsszesen:</div>
                    <div class="total-price" id="modalTotalPrice">‚Ç¨0.00</div>
                </div>
                <button type="button" class="add-to-cart-modal-btn" id="addToCartModalBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V17A2 2 0 0 1 15 19H9A2 2 0 0 1 7 17V13H17Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <span class="btn-text" data-i18n="checkout.custom.save">M√≥dos√≠t√°sok ment√©se</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-left">
                <ul class="footer-nav">
                    <li><a href="menu.html" data-i18n="nav.menu">Men√º</a></li>
                    <!--<li><a href="rolunk.html">R√≥lunk</a></li>-->
                    <li><a href="order.html" data-i18n="nav.order">Rendel√©s</a></li>
                    <li><a href="documents/zasady-ochrany-osobnych-udajov.pdf" target="_blank" rel="noopener noreferrer" data-i18n="footer.privacy">Adatv√©delmi Nyilatkozat</a></li>
                    <li><a href="#" onclick="window.palaceCookieConsent?.showModal(); return false;" data-i18n="footer.cookies">S√ºti be√°ll√≠t√°sok</a></li>
                    <li><a href="documents/podmienky-pouzivania-webovej-stranky.pdf" target="_blank" rel="noopener noreferrer" data-i18n="footer.terms">Felhaszn√°l√°si Felt√©telek</a></li>
                </ul>
            </div>

            <div class="footer-center">
                <img src="assets/images/logos/logo-main.png" alt="Palace Cafe & Bar" class="footer-logo">
            </div>

            <div class="footer-right">
                <div class="footer-contact">
                    <a href="tel:+421910447348" class="footer-contact-link">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M22 16.92V19A2 2 0 0 1 20.11 21 19.79 19.79 0 0 1 2 3.11 2 2 0 0 1 5 1H7.09A2 2 0 0 1 9 2.56L10.26 5.5A2 2 0 0 1 9.81 7.81L8.09 9.53A14 14 0 0 0 14.47 15.91L16.19 14.19A2 2 0 0 1 18.5 13.74L21.44 15A2 2 0 0 1 22 16.92Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span>+421 910 447 348</span>
                    </a>
                    <a href="mailto:info@palacebar.sk" class="footer-contact-link">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M3 8L10.89 13.26C11.56 13.72 12.44 13.72 13.11 13.26L21 8M5 19H19C20.1 19 21 18.1 21 17V7C21 5.9 20.1 5 19 5H5C3.9 5 3 5.9 3 7V17C3 18.1 3.9 19 5 19Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span>info@palacebar.sk</span>
                    </a>
                </div>
                <div class="social-icons">
                    <a href="https://www.facebook.com/profile.php?id=100071470893401" class="social-icon" aria-label="Facebook">
                        <img src="photos/facebook-icon.png" alt="Facebook">
                    </a>
                    <a href="https://www.instagram.com/palace_cafe_bar/" class="social-icon" aria-label="Instagram">
                        <img src="photos/instagram-icon.png" alt="Instagram">
                    </a>
                    <a href="https://maps.app.goo.gl/iqZTZX4jQcgGJDqq6" class="social-icon" aria-label="Google Maps">
                        <img src="photos/maps-icon.png" alt="Google Maps">
                    </a>
                    <a href="https://www.tiktok.com/@palace.cafe.bar?lang=en-GB" class="social-icon" aria-label="TikTok">
                        <img src="photos/tiktok-icon.png" alt="TikTok">
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Cookie Consent Banner -->
    <div id="cookieConsent" class="cookie-consent">
        <div class="cookie-content">
            <div class="cookie-icon">üç™</div>
            <div class="cookie-text">
                <h3 data-i18n="cookie.title">S√ºtik haszn√°lata</h3>
                <p data-i18n="cookie.description">A weboldal megfelel≈ë m≈±k√∂d√©s√©hez √©s a jobb felhaszn√°l√≥i √©lm√©ny √©rdek√©ben s√ºtiket haszn√°lunk. V√°laszd ki, mely kateg√≥ri√°kat fogadod el.</p>
            </div>
            <div class="cookie-actions">
                <button id="cookieSettings" class="btn-settings" data-i18n="cookie.settings">Be√°ll√≠t√°sok</button>
                <button id="acceptEssential" class="btn-essential" data-i18n="cookie.essential">Csak sz√ºks√©ges</button>
                <button id="acceptAll" class="btn-accept" data-i18n="cookie.acceptAll">√ñsszes elfogad√°sa</button>
            </div>
        </div>
    </div>
    
    <!-- Cookie Settings Modal -->
    <div id="cookieModal" class="cookie-modal">
        <div class="cookie-modal-content">
            <div class="cookie-modal-header">
                <h2 data-i18n="cookie.modal.title">S√ºti be√°ll√≠t√°sok</h2>
                <button id="closeCookieModal" class="cookie-close">&times;</button>
            </div>
            
            <div class="cookie-modal-body">
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <label class="cookie-switch">
                            <input type="checkbox" id="essentialCookies" checked disabled>
                            <span class="cookie-slider"></span>
                        </label>
                        <div>
                            <h4 data-i18n="cookie.essential.title">Sz√ºks√©ges s√ºtik</h4>
                            <p data-i18n="cookie.essential.desc">Ezek a s√ºtik elengedhetetlenek a weboldal alapvet≈ë funkci√≥ihoz.</p>
                        </div>
                    </div>
                </div>
                
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <label class="cookie-switch">
                            <input type="checkbox" id="analyticsCookies">
                            <span class="cookie-slider"></span>
                        </label>
                        <div>
                            <h4 data-i18n="cookie.analytics.title">Elemz√©si s√ºtik</h4>
                            <p data-i18n="cookie.analytics.desc">Seg√≠tenek meg√©rteni, hogyan haszn√°lj√°k l√°togat√≥ink a weboldalt (Google Analytics).</p>
                        </div>
                    </div>
                </div>
                
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <label class="cookie-switch">
                            <input type="checkbox" id="marketingCookies">
                            <span class="cookie-slider"></span>
                        </label>
                        <div>
                            <h4 data-i18n="cookie.marketing.title">Marketing s√ºtik</h4>
                            <p data-i18n="cookie.marketing.desc">Szem√©lyre szabott rekl√°mok √©s k√∂z√∂ss√©gi m√©dia funkci√≥k.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="cookie-modal-footer">
                <button id="saveSettings" class="btn-save" data-i18n="cookie.save">Be√°ll√≠t√°sok ment√©se</button>
                <a href="documents/Z√°sady ochrany osobn√Ωch √∫dajov.pdf" target="_blank" class="cookie-privacy-link" data-i18n="cookie.privacy">Adatv√©delmi t√°j√©koztat√≥</a>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="i18n.js"></script>
    <script src="checkout_2.js"></script>
    <script src="order-system-2.js"></script>
    <script src="cookies.js"></script>
    
</body>
</html>